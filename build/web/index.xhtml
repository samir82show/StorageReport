<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>My first line bar chart</title>
        <h:outputStylesheet library="css" name="style.css"/>        
        <h:outputScript library="js" name="d3.js"/>
        <link rel="shortcut icon" href=""/>
    </h:head>
    <h:body>
        <div id="chart">
        </div>
        <script>
            var data = [];
            var chart_width = 800;
            var chart_height = 400;
            for (var i = 0; i &lt; 10; i++)
                    data.push(Math.floor(Math.random() * 50));

            var svg = d3.select("#chart")
                    .append("svg")
                    .attr("height", chart_height)
                    .attr("width", chart_width);

            svg.selectAll("rect")
                    .data(data)
                    .enter()
                    .append("rect")
                    .attr("x", function (d, i) {
                        return i * chart_width / data.length;
                    })
                    .attr("y", function (d) {
                        return chart_height - d * 5;
                        ;
                    })
                    .attr("width", 25)
                    .attr("height", function (d) {
                        return d * 5;
                    })
                    .style("fill", "#075007");

            svg.selectAll("text")
                    .data(data)
                    .enter()
                    .append("text")
                    .text(function (d) {
                        return d;
                    })
                    .attr("x", function (d, i) {
                        return i * chart_width / data.length + 4;
                    })
                    .attr("y", function (d) {
                        return chart_height - d * 5 + 12;
                        ;
                    })
                    .attr("fill", "white");
            console.log(data);
        </script>
    </h:body>
</html>

